
https://docs.oracle.com/cd/E18930_01/html/821-2416/gglpq.html#gknaf

drop table localarmazenamento;
drop table produto;
drop table notaproduto;
drop sequence seqprod;
drop sequence seqnota;
drop sequence seqlocal;


CREATE TABLE LOCALARMAZENAMENTO(ID NUMBER(5) PRIMARY KEY,
PAIS VARCHAR2(50) NOT NULL,
ESTADO VARCHAR2(50) NOT NULL,
CEP VARCHAR2(50)NOT NULL,
CIDADE VARCHAR2(50) NOT NULL,
BAIRRO VARCHAR2(50) NOT NULL,
RUA VARCHAR2(50) NOT NULL,
NUMERO VARCHAR2(50)NOT NULL,
COMPLEMENTO VARCHAR2(50));

CREATE TABLE PRODUTO(CODIGO NUMBER(5) PRIMARY KEY,
NOME VARCHAR2(50) NOT NULL,
QUANTIDADE NUMBER(10) NOT NULL,
VALOR NUMBER(10,2)NOT NULL,
VALIDADE DATE NOT NULL,
CATEGORIA VARCHAR2(50) NOT NULL
);

CREATE TABLE NOTAPRODUTO(ID NUMBER(5) PRIMARY KEY,
TIPO VARCHAR2(50) NOT NULL,
NNOTA NUMBER(10) NOT NULL UNIQUE,
DATAEMISSAO DATE NOT NULL
);
ALTER TABLE PRODUTO ADD ID_NOTA NUMBER(5);
ALTER TABLE PRODUTO ADD CONSTRAINT FK_NOTA  FOREIGN KEY (ID_NOTA) REFERENCES NOTAPRODUTO(ID);


ALTER TABLE PRODUTO ADD ID_LOCAL NUMBER(5);
ALTER TABLE PRODUTO ADD CONSTRAINT FK_LOCAL  FOREIGN KEY (ID_LOCAL) REFERENCES LOCALARMAZENAMENTO(ID);

CREATE SEQUENCE SEQPROD INCREMENT BY 1 
  START WITH 1 NOCACHE NOCYCLE;
CREATE SEQUENCE SEQNOTA INCREMENT BY 1 
  START WITH 1 NOCACHE NOCYCLE;
CREATE SEQUENCE SEQLOCAL INCREMENT BY 1 
  START WITH 1 NOCACHE NOCYCLE;

INSERT INTO NOTAPRODUTO(ID,TIPO,NNOTA,DATAEMISSAO) 
VALUES( SEQNOTA.NEXTVAL,'Nota',1,'10/10/2016'
);

INSERT INTO NOTAPRODUTO(ID,TIPO,NNOTA,DATAEMISSAO) 
VALUES( SEQNOTA.NEXTVAL,'Nota Fiscal',2,'11/11/2016'
);

INSERT INTO LOCALARMAZENAMENTO(ID,PAIS,ESTADO,CEP,CIDADE,BAIRRO,RUA,NUMERO,COMPLEMENTO) 
VALUES( SEQLOCAL.NEXTVAL,'Brasil','SP','09840-550','sbc','Rudge Ramos','rua a','122','comp'
);
INSERT INTO LOCALARMAZENAMENTO(ID,PAIS,ESTADO,CEP,CIDADE,BAIRRO,RUA,NUMERO,COMPLEMENTO) 
VALUES( SEQLOCAL.NEXTVAL,'Brasil','SP','09840-550','sbc','Centro','rua b','122','comp'
);
INSERT INTO PRODUTO(CODIGO,NOME,QUANTIDADE,VALOR,VALIDADE,CATEGORIA,ID_NOTA,ID_LOCAL) 
VALUES(SEQPROD.NEXTVAL,'Pinga',24,10.00 ,'10/10/2016','Bebida alcoolica',1 ,1
);
INSERT INTO PRODUTO(CODIGO,NOME,QUANTIDADE,VALOR,VALIDADE,CATEGORIA,ID_NOTA,ID_LOCAL) 
VALUES(SEQPROD.NEXTVAL,'Desinfetante',26,30.00 ,'11/11/2016','Produto de limpeza',2 ,2
);
INSERT INTO PRODUTO(CODIGO,NOME,QUANTIDADE,VALOR,VALIDADE,CATEGORIA,ID_NOTA,ID_LOCAL) 
VALUES(SEQPROD.NEXTVAL,'teste2',26,30.00 ,'11/11/2016','produtos domesticos',1 ,1
);
commit;


https://docs.oracle.com/cd/E18930_01/html/821-2416/gglpq.html#gknaf
  
